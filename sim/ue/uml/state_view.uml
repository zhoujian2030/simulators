@startuml

[*] --> IDLE
IDLE : Pending for RACH

IDLE -left-> MSG1_SENT :  Send RACH

MSG1_SENT -up-> IDLE : Timeout
MSG1_SENT --> MSG2_RECVD : Recv RAR

MSG2_RECVD --> MSG3_SENT : Send MSG3

MSG3_SENT -up-> IDLE : Timeout
MSG3_SENT --> MSG4_RECVD : Recv Contention Resolution

MSG4_RECVD --> MSG4_ACK_SENT : Send HARQ ACK

MSG4_ACK_SENT -up-> IDLE : Timeout
MSG4_ACK_SENT --> RRC_SETUP_RECVD : Recv RRC Setup

RRC_SETUP_RECVD --> RRC_SETUP_ACK_SENT : Send HARQ ACK
RRC_SETUP_ACK_SENT --> RRC_SETUP_COMPLETE_SR_SENT : Send SR
RRC_SETUP_COMPLETE_SR_SENT --> RRC_SETUP_COMPLETE_SR_DCI0_RECVD : Recv DCI0
RRC_SETUP_COMPLETE_SR_DCI0_RECVD --> RRC_SETUP_COMPLETE_SENT : 4 RB

RRC_SETUP_COMPLETE_SENT -right-> WAIT_TERMINATING : HARQ Timeout/T300 Timeout
WAIT_TERMINATING -up-> IDLE

RRC_SETUP_COMPLETE_SENT --> RRC_CONNECTED : Recv HARQ ACK

RRC_CONNECTED --> RRC_RELEASING : Recv RRC Release
RRC_RELEASING --> WAIT_TERMINATING : Recv Delete UE Req



@enduml